M5ATOMLite/M5ATOMS3Lite/ESPrONEを使ったWifiリモートキーヤーです。
Ver1.02
・M5StackLiteは、Wifiプロファイルをソースコードから分離し、TF-CARDから内部のEEPROMへの読み込み対応
・DHCPに対応
Ver1.01
・ESP32ダイレクト送信モード対応
・起動時にプロファイルを選択
--
・初期設定について
M5StackLite/M5StackS3Lite バイナリファイルをM5Burnerで取り込んでください。
その後、MicroSDカード上に保存したWifiプロファイルをTF-CARD経由で読み込んでください。
Wifiプロファイルについては、ソースコードフォルダにあるものを参照願います。
ファイル名を変えずに中身を修正し、SDカードに保存してご利用ください。
なお、ESPrONEは上記読み込み方法に対応しておりませんので、ソースコード上にWifiプロファイルを記載してコンパイルしてください。
--
・ソフトウェアについて
コンパイルはVisual Studio Code +PlatformIOで行ってください。
サーバー用、クライアント用のそれぞれのプロジェクトを作成し、それぞれのsrc/main.cppにソースコードをコピーしてください。
ServerProfile/WifiProfilesを各自の動作環境に合わせてください(ダイレクト通信プロファイル含む)。
platform.iniは添付のものを使ってください。
M5ATOMLite/M5ATOMS3Liteのコンパイルオプションは、ソースコード上のWifiプロファイルを読まないように初期設定してあります。
ソースコード上のWifiプロファイルを読み込みたい場合は、platform.ini上の-DLoadFromSourceの行頭にある#を外してください。

なお、本家のリモートキーヤーキット for Arduino UNO R3とソフトウェア互換性はありませんので、本家クライアント/サーバーとの
通信はできません。
--
M5ATOMLite/M5ATOMS3Lite版について
配線は配線フォルダのJPGファイルをご参照ください。
2025/12/14
※回り込み耐性向上のために、クライアントの回路をバージョンアップしました。
抵抗は金属被膜のものの利用を想定しています。

必要な電子部品
・サーバー
ATOM Lite	　　　　1
ATOMICプロキット	1
フォトカプラPC817	1
丸ピンICソケット(4P)	1
ステレオジャックMJ-8435	1
抵抗100Ω　　	　　　　1
・クライアント
ATOM Lite	　　　　1
ATOMICプロキット	1
フォトカプラH11L1M      1
丸ピンICソケット(46	1
ステレオジャックMJ-8435	1
抵抗100Ω　　	　　　　1
抵抗200Ω　　	　　　　1
フェライトビーズ        3